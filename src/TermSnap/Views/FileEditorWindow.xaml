<Window x:Class="TermSnap.Views.FileEditorWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:avalonedit="http://icsharpcode.net/sharpdevelop/avalonedit"
        Title="{DynamicResource FileEditor.Title}"
        Height="700" Width="1000"
        WindowStartupLocation="CenterScreen">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- íˆ´ë°” -->
        <ToolBar Grid.Row="0" Background="#F5F5F5">
            <!-- â­ íŽ¸ì§‘ ë²„íŠ¼ (ë·°ì–´ ëª¨ë“œì—ì„œë§Œ í‘œì‹œ) -->
            <Button x:Name="EditButton" Click="EditButton_Click" ToolTip="{DynamicResource FileEditor.EditTooltip}" Padding="8,4">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="âœï¸" Margin="0,0,5,0"/>
                    <TextBlock Text="{DynamicResource FileEditor.EditButton}"/>
                </StackPanel>
            </Button>

            <!-- â­ ì €ìž¥ ë²„íŠ¼ (íŽ¸ì§‘ ëª¨ë“œì—ì„œë§Œ í‘œì‹œ) -->
            <Button x:Name="SaveButton" Click="SaveButton_Click" ToolTip="{DynamicResource FileEditor.SaveTooltip}" Padding="8,4" Visibility="Collapsed">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="ðŸ’¾" Margin="0,0,5,0"/>
                    <TextBlock Text="{DynamicResource Common.Save}"/>
                </StackPanel>
            </Button>

            <!-- â­ ì·¨ì†Œ ë²„íŠ¼ (íŽ¸ì§‘ ëª¨ë“œì—ì„œë§Œ í‘œì‹œ) -->
            <Button x:Name="CancelEditButton" Click="CancelEditButton_Click" ToolTip="{DynamicResource FileEditor.CancelEditTooltip}" Padding="8,4" Visibility="Collapsed">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="âŒ" Margin="0,0,5,0"/>
                    <TextBlock Text="{DynamicResource FileEditor.CancelEdit}"/>
                </StackPanel>
            </Button>
            <Separator/>
            <Button x:Name="UndoButton" Click="UndoButton_Click" ToolTip="{DynamicResource FileEditor.UndoTooltip}" Padding="8,4" IsEnabled="False">
                <TextBlock Text="{DynamicResource FileEditor.Undo}"/>
            </Button>
            <Button x:Name="RedoButton" Click="RedoButton_Click" ToolTip="{DynamicResource FileEditor.RedoTooltip}" Padding="8,4" IsEnabled="False">
                <TextBlock Text="{DynamicResource FileEditor.Redo}"/>
            </Button>
            <Separator/>
            <TextBlock Text="{DynamicResource FileEditor.Encoding}" VerticalAlignment="Center" Margin="5,0"/>
            <ComboBox x:Name="EncodingComboBox" Width="100" SelectionChanged="EncodingComboBox_SelectionChanged">
                <ComboBoxItem Content="UTF-8" IsSelected="True"/>
                <ComboBoxItem Content="UTF-8 BOM"/>
                <ComboBoxItem Content="EUC-KR"/>
                <ComboBoxItem Content="ASCII"/>
            </ComboBox>
            <Separator/>
            <CheckBox x:Name="WordWrapCheckBox" Content="{DynamicResource FileEditor.WordWrap}" VerticalAlignment="Center"
                      Checked="WordWrapCheckBox_Changed" Unchecked="WordWrapCheckBox_Changed"/>
            <Separator/>
            <CheckBox x:Name="ShowLineNumbersCheckBox" Content="{DynamicResource FileEditor.ShowLineNumbers}" VerticalAlignment="Center"
                      IsChecked="True" Checked="ShowLineNumbersCheckBox_Changed" Unchecked="ShowLineNumbersCheckBox_Changed"/>
        </ToolBar>

        <!-- íŒŒì¼ ê²½ë¡œ -->
        <Border Grid.Row="1" Background="#E8E8E8" Padding="10,5">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="ðŸ“„ " VerticalAlignment="Center"/>
                <TextBlock x:Name="FilePathText" Grid.Column="1" Text="" VerticalAlignment="Center"
                           TextTrimming="CharacterEllipsis" ToolTip="{Binding Text, RelativeSource={RelativeSource Self}}"/>
                <TextBlock x:Name="ModifiedIndicator" Grid.Column="2" Text="{DynamicResource FileEditor.Modified}"
                           Foreground="Orange" Visibility="Collapsed" VerticalAlignment="Center"/>
            </Grid>
        </Border>

        <!-- AvalonEdit í…ìŠ¤íŠ¸ ì—ë””í„° -->
        <avalonedit:TextEditor x:Name="TextEditor" Grid.Row="2"
                               FontFamily="Consolas, D2Coding, Courier New"
                               FontSize="14"
                               ShowLineNumbers="True"
                               IsReadOnly="True"
                               Background="WhiteSmoke"
                               HorizontalScrollBarVisibility="Auto"
                               VerticalScrollBarVisibility="Auto"
                               TextChanged="TextEditor_TextChanged"/>

        <!-- ìƒíƒœë°” -->
        <StatusBar Grid.Row="3" Background="#F0F0F0">
            <StatusBarItem>
                <TextBlock x:Name="LineColumnText" Text="{DynamicResource FileEditor.LineColumn}"/>
            </StatusBarItem>
            <Separator/>
            <StatusBarItem>
                <TextBlock x:Name="FileSizeText" Text=""/>
            </StatusBarItem>
            <Separator/>
            <StatusBarItem>
                <TextBlock x:Name="EncodingText" Text="UTF-8"/>
            </StatusBarItem>
            <Separator/>
            <StatusBarItem HorizontalAlignment="Right">
                <TextBlock x:Name="SyntaxText" Text="Plain Text"/>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>
