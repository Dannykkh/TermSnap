<Window x:Class="TermSnap.Views.CommandConfirmDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="명령어 확인"
        MinHeight="450"
        MinWidth="550"
        Height="500"
        Width="650"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResizeWithGrip"
        Background="{DynamicResource SurfaceBrush}">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="*" MinHeight="120"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 설명 (스크롤 가능) -->
        <Border Grid.Row="0"
                Background="{DynamicResource CardBrush}"
                Padding="15"
                Margin="0,0,0,15"
                CornerRadius="8">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                    <materialDesign:PackIcon Kind="LightbulbOnOutline"
                                             Width="20" Height="20"
                                             Foreground="{DynamicResource PrimaryBrush}"
                                             VerticalAlignment="Center"
                                             Margin="0,0,8,0"/>
                    <TextBlock Text="명령어 설명"
                               FontWeight="Bold"
                               FontSize="14"
                               Foreground="{DynamicResource TextPrimaryBrush}"
                               VerticalAlignment="Center"/>
                </StackPanel>

                <ScrollViewer Grid.Row="1"
                              VerticalScrollBarVisibility="Auto"
                              HorizontalScrollBarVisibility="Disabled">
                    <TextBlock x:Name="ExplanationTextBlock"
                               TextWrapping="Wrap"
                               FontSize="13"
                               LineHeight="22"
                               Foreground="{DynamicResource TextPrimaryBrush}"/>
                </ScrollViewer>
            </Grid>
        </Border>

        <!-- 명령어 편집 -->
        <StackPanel Grid.Row="1">
            <TextBlock Text="생성된 명령어 (편집 가능)"
                       FontWeight="Bold"
                       FontSize="13"
                       Foreground="{DynamicResource TextPrimaryBrush}"
                       Margin="0,0,0,10"/>
            <TextBox x:Name="CommandTextBox"
                     Style="{DynamicResource ThemedTextBox}"
                     FontFamily="Consolas"
                     FontSize="14"
                     TextWrapping="Wrap"
                     AcceptsReturn="True"
                     Height="100"
                     VerticalScrollBarVisibility="Auto"
                     VerticalContentAlignment="Top"
                     Padding="10"/>
        </StackPanel>

        <!-- 안내 메시지 -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="0,15,0,0">
            <materialDesign:PackIcon Kind="CheckCircleOutline"
                                     Width="16" Height="16"
                                     Foreground="{DynamicResource SuccessBrush}"
                                     VerticalAlignment="Center"
                                     Margin="0,0,6,0"/>
            <TextBlock Text="명령어를 검토하고 필요시 수정한 후 실행하세요"
                       Foreground="{DynamicResource TextSecondaryBrush}"
                       FontSize="12"
                       VerticalAlignment="Center"/>
        </StackPanel>

        <!-- 버튼 -->
        <StackPanel Grid.Row="3"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Margin="0,20,0,0">
            <Button Content="취소"
                    Width="100"
                    Height="40"
                    Margin="0,0,10,0"
                    Click="CancelButton_Click"
                    Style="{StaticResource MaterialDesignOutlinedButton}"/>
            <Button x:Name="ExecuteButton"
                    Content="실행"
                    Width="100"
                    Height="40"
                    Click="ExecuteButton_Click"
                    Style="{StaticResource MaterialDesignRaisedButton}"/>
        </StackPanel>
    </Grid>
</Window>
