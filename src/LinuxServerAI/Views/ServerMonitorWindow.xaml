<Window x:Class="Nebula.Views.ServerMonitorWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="ì„œë²„ ëª¨ë‹ˆí„°ë§"
        Height="800"
        Width="1000"
        WindowStartupLocation="CenterOwner"
        Background="{DynamicResource MaterialDesignPaper}">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- ì œëª© -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,20">
            <TextBlock Text="ðŸ“Š ì„œë²„ ëª¨ë‹ˆí„°ë§"
                       FontSize="20"
                       FontWeight="Bold"/>
            <Button Content="ìƒˆë¡œê³ ì¹¨"
                    Width="100"
                    Margin="20,0,0,0"
                    Click="RefreshButton_Click"
                    Style="{StaticResource MaterialDesignRaisedButton}"/>
            <CheckBox x:Name="AutoRefreshCheckBox"
                      Content="ìžë™ ìƒˆë¡œê³ ì¹¨ (10ì´ˆ)"
                      Margin="15,0,0,0"
                      VerticalAlignment="Center"
                      Checked="AutoRefreshCheckBox_Changed"
                      Unchecked="AutoRefreshCheckBox_Changed"/>
        </StackPanel>

        <!-- ì‹œìŠ¤í…œ ì •ë³´ -->
        <Border Grid.Row="1"
                Padding="15"
                Background="{DynamicResource MaterialDesignDivider}"
                CornerRadius="5"
                Margin="0,0,0,20">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0">
                    <TextBlock Text="ì‹œìŠ¤í…œ ì •ë³´"
                               FontWeight="Bold"
                               FontSize="14"
                               Margin="0,0,0,10"
                               Foreground="{DynamicResource MaterialDesignBody}"/>
                    <TextBlock x:Name="OsInfoText" Text="OS: ì •ë³´ ë¡œë“œ ì¤‘..." Margin="0,2" Foreground="{DynamicResource MaterialDesignBody}"/>
                    <TextBlock x:Name="KernelVersionText" Text="Kernel: ì •ë³´ ë¡œë“œ ì¤‘..." Margin="0,2" Foreground="{DynamicResource MaterialDesignBody}"/>
                    <TextBlock x:Name="UptimeText" Text="Uptime: ì •ë³´ ë¡œë“œ ì¤‘..." Margin="0,2" Foreground="{DynamicResource MaterialDesignBody}"/>
                </StackPanel>

                <StackPanel Grid.Column="1">
                    <TextBlock Text="ë„¤íŠ¸ì›Œí¬"
                               FontWeight="Bold"
                               FontSize="14"
                               Margin="0,0,0,10"
                               Foreground="{DynamicResource MaterialDesignBody}"/>
                    <TextBlock x:Name="NetworkRxText" Text="ìˆ˜ì‹ : 0 B" Margin="0,2" Foreground="{DynamicResource MaterialDesignBody}"/>
                    <TextBlock x:Name="NetworkTxText" Text="ì†¡ì‹ : 0 B" Margin="0,2" Foreground="{DynamicResource MaterialDesignBody}"/>
                    <TextBlock x:Name="LoadAverageText" Text="Load: ì •ë³´ ë¡œë“œ ì¤‘..." Margin="0,2" Foreground="{DynamicResource MaterialDesignBody}"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- ë©”ì¸ í†µê³„ -->
        <Grid Grid.Row="2">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- CPU, ë©”ëª¨ë¦¬, ë””ìŠ¤í¬ -->
            <Grid Grid.Row="0" Margin="0,0,0,20">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- CPU -->
                <Border Grid.Column="0"
                        Padding="15"
                        Background="{DynamicResource MaterialDesignDivider}"
                        CornerRadius="5"
                        Margin="0,0,10,0">
                    <StackPanel>
                        <TextBlock Text="ðŸ–¥ï¸ CPU ì‚¬ìš©ë¥ "
                                   FontWeight="Bold"
                                   FontSize="14"
                                   Margin="0,0,0,10"
                                   Foreground="{DynamicResource MaterialDesignBody}"/>
                        <TextBlock x:Name="CpuPercentText"
                                   Text="0%"
                                   FontSize="36"
                                   FontWeight="Bold"
                                   HorizontalAlignment="Center"
                                   Margin="0,10"
                                   Foreground="{DynamicResource MaterialDesignBody}"/>
                        <ProgressBar x:Name="CpuProgressBar"
                                     Height="20"
                                     Minimum="0"
                                     Maximum="100"
                                     Value="0"
                                     Margin="0,10"/>
                        <TextBlock x:Name="ProcessCountText"
                                   Text="í”„ë¡œì„¸ìŠ¤: 0"
                                   HorizontalAlignment="Center"
                                   FontSize="12"
                                   Foreground="{DynamicResource MaterialDesignBodyLight}"/>
                    </StackPanel>
                </Border>

                <!-- ë©”ëª¨ë¦¬ -->
                <Border Grid.Column="1"
                        Padding="15"
                        Background="{DynamicResource MaterialDesignDivider}"
                        CornerRadius="5"
                        Margin="0,0,10,0">
                    <StackPanel>
                        <TextBlock Text="ðŸ’¾ ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ "
                                   FontWeight="Bold"
                                   FontSize="14"
                                   Margin="0,0,0,10"
                                   Foreground="{DynamicResource MaterialDesignBody}"/>
                        <TextBlock x:Name="MemoryPercentText"
                                   Text="0%"
                                   FontSize="36"
                                   FontWeight="Bold"
                                   HorizontalAlignment="Center"
                                   Margin="0,10"
                                   Foreground="{DynamicResource MaterialDesignBody}"/>
                        <ProgressBar x:Name="MemoryProgressBar"
                                     Height="20"
                                     Minimum="0"
                                     Maximum="100"
                                     Value="0"
                                     Margin="0,10"/>
                        <TextBlock x:Name="MemoryDetailText"
                                   Text="ì‚¬ìš©: 0 / ì „ì²´: 0"
                                   HorizontalAlignment="Center"
                                   FontSize="12"
                                   Foreground="{DynamicResource MaterialDesignBodyLight}"/>
                    </StackPanel>
                </Border>

                <!-- ë””ìŠ¤í¬ -->
                <Border Grid.Column="2"
                        Padding="15"
                        Background="{DynamicResource MaterialDesignDivider}"
                        CornerRadius="5">
                    <StackPanel>
                        <TextBlock Text="ðŸ’¿ ë””ìŠ¤í¬ ì‚¬ìš©ë¥ "
                                   FontWeight="Bold"
                                   FontSize="14"
                                   Margin="0,0,0,10"
                                   Foreground="{DynamicResource MaterialDesignBody}"/>
                        <TextBlock x:Name="DiskPercentText"
                                   Text="0%"
                                   FontSize="36"
                                   FontWeight="Bold"
                                   HorizontalAlignment="Center"
                                   Margin="0,10"
                                   Foreground="{DynamicResource MaterialDesignBody}"/>
                        <ProgressBar x:Name="DiskProgressBar"
                                     Height="20"
                                     Minimum="0"
                                     Maximum="100"
                                     Value="0"
                                     Margin="0,10"/>
                        <TextBlock x:Name="DiskDetailText"
                                   Text="ì‚¬ìš©: 0 / ì „ì²´: 0"
                                   HorizontalAlignment="Center"
                                   FontSize="12"
                                   Foreground="{DynamicResource MaterialDesignBodyLight}"/>
                    </StackPanel>
                </Border>
            </Grid>

            <!-- ì„œë¹„ìŠ¤ ë° í”„ë¡œì„¸ìŠ¤ -->
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- ì„œë¹„ìŠ¤ ëª¨ë‹ˆí„°ë§ -->
                <Border Grid.Column="0"
                        Padding="15"
                        Background="{DynamicResource MaterialDesignDivider}"
                        CornerRadius="5"
                        Margin="0,0,10,0">
                    <StackPanel>
                        <TextBlock Text="âš™ï¸ ì£¼ìš” ì„œë¹„ìŠ¤ ìƒíƒœ"
                                   FontWeight="Bold"
                                   FontSize="14"
                                   Margin="0,0,0,10"
                                   Foreground="{DynamicResource MaterialDesignBody}"/>
                        <DataGrid x:Name="ServicesDataGrid"
                                  AutoGenerateColumns="False"
                                  IsReadOnly="True"
                                  HeadersVisibility="Column"
                                  GridLinesVisibility="None"
                                  Background="Transparent"
                                  Foreground="{DynamicResource MaterialDesignBody}"
                                  CanUserAddRows="False"
                                  Height="200">
                            <DataGrid.ColumnHeaderStyle>
                                <Style TargetType="DataGridColumnHeader" BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}">
                                    <Setter Property="Foreground" Value="{DynamicResource MaterialDesignBody}"/>
                                </Style>
                            </DataGrid.ColumnHeaderStyle>
                            <DataGrid.CellStyle>
                                <Style TargetType="DataGridCell" BasedOn="{StaticResource MaterialDesignDataGridCell}">
                                    <Setter Property="Foreground" Value="{DynamicResource MaterialDesignBody}"/>
                                </Style>
                            </DataGrid.CellStyle>
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="ì„œë¹„ìŠ¤" Binding="{Binding ServiceName}" Width="*">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Foreground" Value="{DynamicResource MaterialDesignBody}"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="ìƒíƒœ" Binding="{Binding StatusText}" Width="100">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Foreground" Value="{Binding StatusColor}"/>
                                            <Setter Property="FontWeight" Value="Bold"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="" Binding="{Binding StatusIcon}" Width="40">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Foreground" Value="{DynamicResource MaterialDesignBody}"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                    </StackPanel>
                </Border>

                <!-- ìƒìœ„ í”„ë¡œì„¸ìŠ¤ -->
                <Border Grid.Column="1"
                        Padding="15"
                        Background="{DynamicResource MaterialDesignDivider}"
                        CornerRadius="5">
                    <StackPanel>
                        <TextBlock Text="ðŸ“ˆ ìƒìœ„ í”„ë¡œì„¸ìŠ¤ (CPU)"
                                   FontWeight="Bold"
                                   FontSize="14"
                                   Margin="0,0,0,10"
                                   Foreground="{DynamicResource MaterialDesignBody}"/>
                        <ScrollViewer Height="200" VerticalScrollBarVisibility="Auto">
                            <TextBlock x:Name="TopProcessesText"
                                       FontFamily="Consolas"
                                       FontSize="11"
                                       TextWrapping="Wrap"
                                       Foreground="{DynamicResource MaterialDesignBody}"/>
                        </ScrollViewer>
                    </StackPanel>
                </Border>
            </Grid>
        </Grid>

        <!-- í•˜ë‹¨ ì •ë³´ -->
        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
            <TextBlock x:Name="LastUpdatedText"
                       VerticalAlignment="Center"
                       Margin="0,0,20,0"
                       Foreground="{DynamicResource MaterialDesignBodyLight}"/>
            <Button Content="ë‹«ê¸°"
                    Width="100"
                    Click="CloseButton_Click"
                    Style="{StaticResource MaterialDesignOutlinedButton}"/>
        </StackPanel>
    </Grid>
</Window>
